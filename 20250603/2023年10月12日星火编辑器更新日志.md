  * [](/)
  * 更新日志
  * 2023年更新日志汇总
  * 2023年10月12日星火编辑器更新日志

复制链接

本页总览

# 2023年10月12日星火编辑器更新日志

### 自动施法改进[​](/Manual/NewPathNote/2023PathNote/2023-10-12#自动施法改进
"自动施法改进的直接链接")

  * 自动施法现在支持多个技能同时开启自动施法，在这种情况下，单位会按照技能顺序尝试自动施法。并在无法自动施法某个技能时尝试自动施法其他技能。
  * 此外，我们还改善了自动施法技能在被替换技能时的逻辑，自动施法的技能被替换后会保留原有的自动施法状态（如果新技能允许自动施法），并在被替换回来后也保持正常运作。

### 单位转身速度相关的改进[​](/Manual/NewPathNote/2023PathNote/2023-10-12#单位转身速度相关的改进
"单位转身速度相关的改进的直接链接")

  * 我们重置了单位转身速度属性的逻辑，使得原本实际上在当前系统无效的转身速度属性重新发挥了效力。
  * 此外，如果单位没有设置任何转身速度属性，它们的默认转身速度将为1500。即1秒内可转1500度。
  * 尽管这实际上是一项修复，但在旧有项目中的用户如果填写过转身速度可能会在更新后看到奇怪的结果，比如单位看起来无法转身等等。这通常是因为用户在项目中填写了过小的单位转身速度所致。我们建议绝大部分的单位转身速度区间应当设置在800-1800之间。

### 对于等级为0的技能的处理[​](/Manual/NewPathNote/2023PathNote/2023-10-12#对于等级为0的技能的处理
"对于等级为0的技能的处理的直接链接")

在过去，在服务端使用“单位身上指定数编Id的技能”来获取技能时，无法获得尚未学习（等级为0）的技能。但使用“单位身上所有技能”函数所返回的数组里却存在等级为0的技能。此外，过去我们处理尚未学习的技能时，为了存储方便，并未给这些技能添加数编表属性，导致用户即使拿到了等级0的技能，却也不能正确访问其数编表属性。
为此我们修改了技能的逻辑，使得用户对于技能的体验更具有一致性。

  * 新版本的服务端和客户端获取单位身上指定数编Id技能的函数现在都有了”是否包含0级技能“可选参数。可以指定是否允许获得一个存在于单位身上但尚未被学习的技能。
  * 除此之外，我们也给所有的0级技能加上了数编表属性，使得用户可以和普通技能一样正确地访问它们的数编表，而不需要记住一些”处理特殊对象的特殊方法“。

### 数据编辑器[​](/Manual/NewPathNote/2023PathNote/2023-10-12#数据编辑器 "数据编辑器的直接链接")

  * 我们改进了单位替换模型的逻辑。现在被替换模型的单位在客户端重连以后也不会导致模型再被重置回原样了。
  * 在数据编辑器中填写单位绑点时，多数情况下用户将可以通过下拉菜单在当前数编所预览的模型素材绑点中选择一个。此外，也允许用户手动填写绑点名称。

### 触发编辑器[​](/Manual/NewPathNote/2023PathNote/2023-10-12#触发编辑器 "触发编辑器的直接链接")

  * 我们去除了触发编辑器右侧用来显示某个未来功能的占位面板。因为我们认为该功能尚未开发成熟。
  * 当用户未能正确填写触发器语句，导致触发器出现“不能生成语句XXXX”的警告时。警告语句现在可以正确提示出错的语句的触发器位置。
  * 在过去，星火编辑器的用户项目曾经出现过这样的问题：用户在项目服务端和客户端都新建了同样Id的事件。但是又把服务端事件勾上了允许自动转发到客户端。这导致客户端里出现了两个同名事件，而导致了项目的脚本逻辑冲突。为此，星火编辑器增加了更多命名检测。在新建服务器/客户端事件时，会检测另一侧是否已经注册了同名的转发事件，如果有，用户将无法创建同名的事件或其他对象。此外，在勾选”自动转发到客户端”和“自动转发到服务器”时，编辑器也会进行这样的检测。
  * 现在，当用户使用触发器将一个玩家转移到一个不存在的队伍中时，将引发报错，并提示用户队伍尚未创建。
  * 现在可以在客户端触发语句中，在指定的屏幕坐标位置创建一个物品的详细信息面板了，这一功能可以用于对比属性、展示物品等。

### 界面编辑器[​](/Manual/NewPathNote/2023PathNote/2023-10-12#界面编辑器 "界面编辑器的直接链接")

  * 现在可以通过将多功能格子的绑定对象设置为空来清空多功能格子的显示。
  * 界面编辑器支持了一种新的布局方式：拉伸。在子控件不设置锚点的情况下，父控件和子控件可以都以 -1 的尺寸对内容进行自适应。这个描述可能很多人没有看懂，后续我们会在界面编辑器的文档里添加一系列UI还原案例，届时会介绍这种情况的使用方法。
  * 对界面编辑器拥有多个UI框体时消耗的资源进行了优化，提高了整体的流畅度。
  * 组件库移除了组件『签到按钮』，可以直接以触发语句来打开签到页面。如果在这之前已经添加了签到按钮的项目，可能会有一个编辑器的警告，提示smallcard_sign_in_new有无效的数据配置。解决方案是去『数据编辑器-任意数据-[大厅签到]配置表』中删除名称为『任意数据-布尔』的节点。

### 预制功能[​](/Manual/NewPathNote/2023PathNote/2023-10-12#预制功能 "预制功能的直接链接")

  * 局内聊天组件新增面向对象属性：『有新消息时弹出』；在预制功能库卡片可勾选次选项，也可以通过触发语句来动态修改。
  * 快捷拾取列表中可以正常显示物品的品质了。

### 创作者中心[​](/Manual/NewPathNote/2023PathNote/2023-10-12#创作者中心 "创作者中心的直接链接")

  * 创作者中心新增玩家信息查询+游戏局日志查询，开发者可以通过游戏内SCEID查到本游戏的游戏玩家数据以及对应玩家最近的游戏局日志，此日志和编辑器调试时的服务端日志一致，方便开发者自主排查手机上遇到的问题。
  * 创作者中心的云变量查询页面新增云变量修改功能，可以直接对云变量进行修改操作，对于复杂的云变量数据，请谨慎操作。

### 其他优化[​](/Manual/NewPathNote/2023PathNote/2023-10-12#其他优化 "其他优化的直接链接")

  * 我们优化了编辑器信息日志面板在显示大量信息时的响应的速度，使其不会对游戏调试造成太大影响。
  * 编辑器调试时新增了『渲染批次-建议上限』、『活跃骨骼数-建议上限』、『活跃模型面数-建议上限』，注意这些阈值都是针对中低端手机进行预估的，达到100%并不代表着游戏无法正常游玩，但是达到100%意味着需要关注相关部分在中低端手机上的性能了。此外在普通调试下的相关数值都会偏高，中低端手机的实际表现效果应该用『调试-模拟手机调试』来进行查看。
  * 编辑器调试时新增了Jank次数、服务端GC次数，后续我们会有专门的文档介绍这些参数在游戏运行中的实际意义，期望这些数据可以帮助开发者优化游戏性能，提升玩家游玩体验。
  * 美术模型页面，将原先的英文缩写修改为中文：模型数量、骨骼数量、定点数量、三角形数量（面数）

### 错误修复[​](/Manual/NewPathNote/2023PathNote/2023-10-12#错误修复 "错误修复的直接链接")

  * 去除了编辑器中”技能无法降级“的过时描述，星火编辑器的技能很早就可以被降级了。
  * 修复了法球系统的法球伤害响应无法响应致死伤害的问题。
  * 修复了客户端触发编辑器中“从函数创建触发器”语句无法正确填写参数的问题。
  * 修复了云变量物品操作数组时在特殊情况下报错的问题。
  * 修复了编辑器信息日志面板在吸附到主界面后无法显示日志的问题。
  * 修复了投射物使用模型素材时，有些投射物在飞行途中无法正常播放BSD动画的问题。
  * 修复了动态创建多个特定类型的UI控件时，会使这些UI控件共享点击事件的问题。
  * 修复了资源商店的商品在使用时由于引用关系不对导致的错误表现问题。
  * 修复了部分玩家无法进入其他玩家创建的房间的问题。

[上一页2023年9月27日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-09-27)[下一页2023年10月26日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-10-26)


