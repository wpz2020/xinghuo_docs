  * [](/)
  * 更新日志
  * 2023年更新日志汇总
  * 2023年9月27日星火编辑器更新日志

复制链接

本页总览

# 2023年9月27日星火编辑器更新日志

### 底层效率优化[​](/Manual/NewPathNote/2023PathNote/2023-09-27#底层效率优化
"底层效率优化的直接链接")

**本次编辑器更新侧重于星火编辑器常见的一些高资源占用逻辑的运作优化：**

  * 对高频大范围搜索的逻辑运作进行了效率优化。

  * 对大量单位同时存在时的搜敌逻辑进行了效率优化。

  * 对单位击杀掉落系统的资源消耗进行了优化。

  * 对大量高频创建和死亡的单位的项目的资源回收进行了优化。

### 动态、静态碰撞修改[​](/Manual/NewPathNote/2023PathNote/2023-09-27#动态静态碰撞修改
"动态、静态碰撞修改的直接链接")

星火编辑器现在允许动态地改变场景中『静态』和『动态』的碰撞区块。

在此次更新后，建筑类型单位所绘制的碰撞足印将能正确地改变场景中的动态碰撞区块。而碰撞类型的单位所绘制的碰撞足印将能正确改变场景中的静态碰撞区块。

用户可在数据编辑器中，修改单位的C++类型字段来将一个单位指定为建筑类型或者碰撞类型，以此相应地影响场景中的动态和静态碰撞。

动态碰撞与静态碰撞的区别：在默认条件下，地形碰撞和装饰物碰撞在星火编辑器中被视为静态碰撞，而单位等可移动的对象则被视为动态碰撞。当一个地面单位在被下达寻路指令时，首先会考虑沿途的所有静态碰撞区块，并以此评估出一条有效的寻路路径。在此阶段，寻路路径会无视游戏中所有的动态碰撞。只有当单位在前进过程中撞到动态碰撞时才会尝试绕路。但是由于动态碰撞并非是事先评估的路线，当有多个动态碰撞拦住路线时，很容易导致单位卡住的问题出现。因此，若希望在游戏过程中能够通过放置阻挡单位来动态改变AI的行动路线，推荐使用静态碰撞。

此外，用户可在数编单位配置中的默认单位状态字段中设置单位的无视动态碰撞和无视静态碰撞行为。这两个状态也可以通过Buff来动态附加给任意单位。

### 数据编辑器[​](/Manual/NewPathNote/2023PathNote/2023-09-27#数据编辑器 "数据编辑器的直接链接")

  * 优化了给与相同buff的装备在同一装备格中替换的逻辑，使得同装备在进行替换时能够消耗和指向正确的Buff。

  * 云变量物品现在可以保存额外的简单表数据。用户可以通过设置物品的云变量自定义数据和获取物品的云变量自定义数据来为物品设置额外的数据，这些自定义数据会在云变量物品保存时自动保存。

  * 我们优化了类型编辑器中类型名称的显示方式，避免了一些重名类型引起的误导，并为所有以前无法正确显示名称的类型加上了显示名称。

  * 弹道后处理表现节点的强化：弹道后处理节点现在不但可以设置弹道的发射绑点，也可以指定弹道的命中绑点。需要注意的是，该字段仅在弹道后处理表现绑定到单位目标的发射投射物节点下时生效。当投射物的目标为单位时，弹道后处理表现能改变投射物的命中位置，使其命中到目标单位身上指定的绑点。

  * 表现小地图图标：现在可以为表现指定小地图图标。被指定图标的表现会在小地图对应位置显示自己的小地图图标。当用户希望创建小地图图标却不想为此创建一个单位时会很有用。

### 随机模型支持[​](/Manual/NewPathNote/2023PathNote/2023-09-27#随机模型支持
"随机模型支持的直接链接")

  * 现在允许为单位设置随机模型。

  * 我们加入了一个全新的模型素材节点：随机模型素材节点。

  * 随机模型表现可连接多个子模型素材节点。

  * 用户可以通过随机模型素材节点为单位连接多个随机模型素材。

  * 当单位被创建时，游戏会随机在子模型素材节点中选择一个作为单位自身的模型素材。此外，在地形编辑器中放置单位时，若单位拥有随机模型配置，地形编辑器将随机选择一个可选模型进行展示，随机结果将与玩家在游戏中看到的模型保持一致。用户若对随机结果不满意，也可以在地形编辑器的属性面板中选择其它的可选模型。

### 自定义吸血公式[​](/Manual/NewPathNote/2023PathNote/2023-09-27#自定义吸血公式
"自定义吸血公式的直接链接")

  * 继伤害公式与治疗公式之后，吸血公式也可被用户自定义了。 修复了界面编辑器文本属性中输入

  * 在游戏机制设置节点中，我们增加了全新的吸血公式节点。

  * 在吸血公式节点上，用户可以指定吸血效果可以生效的单位目标过滤，也可以指定哪些伤害类型可以触发吸血。此外，用户可以在公式自定义中设置伤害值与产生的吸血数值的对应公式。

### 触发编辑器[​](/Manual/NewPathNote/2023PathNote/2023-09-27#触发编辑器 "触发编辑器的直接链接")

  * 在填写触发器元素时，『变量页』中所有的『触发事件的.xxx』变量都将默认显示在第一层级，无需点击展开就能找到。

  * 客户端事件中增加了丢失物品和获得物品事件。

  * 现在触发编辑器中的预设值将使用黄色色块进行显示，而不是绿色，以免与数值类型的值产生混淆。

  * 当用户新建一个类时，现在构造函数的UI文本将默认为空。这样每次用户在为其构造函数添加参数候，将不再需要在UI文本字段填写参数对应的~~1~~ ，~~2~~ 占位符。构造函数参数将会在使用时自动显示。当然，用户依然可以手动填写UI文本字段以修改类构造函数的显示方式。

  * 对云变量的部分语句进行了措辞优化，减少开发者的误解。

  * 增加了批量查询云变量的功能，可以在云变量查询语句中传入数组来完成批量查询，返回结果必然是全部查询结果（空值也是一种确定的查询结果）或者查询失败，不会出现查到部分结果的情况，相关文档也会稍晚一些更新。

###
在PC端通过星火游戏盒进行Canary测试[​](/Manual/NewPathNote/2023PathNote/2023-09-27#在pc端通过星火游戏盒进行canary测试
"在PC端通过星火游戏盒进行Canary测试的直接链接")

  * 由于之前的实机调试只能在Android手机上进行，对开发者调试多人游戏带来了困扰。我们对星火游戏盒进行了一定的改动，方便开发者使用星火游戏盒进行Canary版本游戏测试。

  * 相关文档和测试版本星火游戏盒的下载地址我们会尽快更新到文档中。

  * 注意：星火游戏盒测试时依然不能正常的播放广告。

### 预制功能[​](/Manual/NewPathNote/2023PathNote/2023-09-27#预制功能 "预制功能的直接链接")

对预制功能-局内聊天进行了UI微调，简化玩家操作的成本。

### 创作者中心[​](/Manual/NewPathNote/2023PathNote/2023-09-27#创作者中心 "创作者中心的直接链接")

公告中的维护公告功能支持单独针对iOS端进行下发了。

### 官方样例[​](/Manual/NewPathNote/2023PathNote/2023-09-27#官方样例 "官方样例的直接链接")

我们更新了现有的官方模版样例，将所有模版中的旧版遍历函数语句改为了新版的循环遍历语句，以便引导用户正确地使用遍历函数。

### 其他优化[​](/Manual/NewPathNote/2023PathNote/2023-09-27#其他优化 "其他优化的直接链接")

  * 对房间列表模式在房间玩家较多情况下的房间号位置进行了优化。

  * 更新了PC端的默认摇杆（不影响手机），后续会提供切换的选项。

  * 地形编辑器中增加了预览当前镜头游戏视窗的功能。 ![](/assets/images/镜头游戏视窗-8088c440f9a2b5eb99a7fe05f5db88ef.webp)

  * 调试选项中增加了：模拟手机调试，在模拟手机调试下，调试信息中的关键信息会更接近于手机调试的效果，例如实际上手机调试的drawcall会显著低于默认调试的数据。

### 错误修复[​](/Manual/NewPathNote/2023PathNote/2023-09-27#错误修复 "错误修复的直接链接")

  * 修复了部分AMD显卡无法正确显示VRP作弊模式下的圈与线的问题。

  * 修复了界面编辑器文本属性中输入某些字符时Crash的问题。

  * 修复了多段攻击不受[施法速度倍率属性]影响的问题。

  * 修复了切换顶视角时默认缩放不对的问题。

[上一页2023年9月11日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-09-11)[下一页2023年10月12日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-10-12)


