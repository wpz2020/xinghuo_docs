  * [](/)
  * 更新日志
  * 最新更新日志
  * 2024年11月25日更新日志【11版本】

复制链接

本页总览

# 2024年11月25日更新日志【11版本】

提示

星火编辑器发布了新的编辑器版本：11。  
除部分严重BUG修复会覆盖旧版本，以下新功能均在编辑器版本2024.11中生效。  
开发者可以在编辑器顶部菜单-编辑器版本中进行版本切换。

## 必读：[​](/Manual/NewPathNote/2024PathNote/2024-11-25#必读 "必读：的直接链接")

### 调试时卡顿问题[​](/Manual/NewPathNote/2024PathNote/2024-11-25#调试时卡顿问题
"调试时卡顿问题的直接链接")

在接下来一段时间，我们会逐渐替换掉编辑器的UI，在这个过程中可能会出现由于窗体更新导致调试时卡顿的问题，具体表现为调试时明明显示是60帧，但是并不流畅。  
出现这种情况时，可以将所有的非主要窗口都关闭（信息面板可以合并到主页面），对卡顿会有明显的改善。  
此问题会随着我们对编辑器UI陆续的更新而解决。

### 伤害事件改动【重大变更】[​](/Manual/NewPathNote/2024PathNote/2024-11-25#伤害事件改动重大变更
"伤害事件改动【重大变更】的直接链接")

在过去，星火编辑器的『单位-受到伤害』和『单位-
造成伤害』事件中的『触发事件的.伤害值』参数一直以来传递的都是『原始伤害值』而非经过护甲系统和响应系统削减和修正后的『当前伤害值』。若需要获取当前伤害值，用户应当取用『触发事件的.伤害实例』中『当前伤害值』属性。  
但随着星火编辑器新人用户越来越多，我们注意到越来越多的用户混淆了这两种伤害值，并下意识地把『触发事件的.伤害值』当作经过修正后的伤害值。  
为了更加顺应用户直觉，从11版本起，星火编辑器的触发器伤害事件中，『触发事件的.伤害值』将默认直接返回当前伤害值，用户若需要取原始伤害值，依然可以通过『触发事件的.伤害实例』中的『原始伤害值』属性来获得。  
此外，在伤害事件中直接修改『触发事件的.伤害实例』中的『当前伤害值』可以直接影响单位最终受到的伤害。这并非是新加入的功能，但考虑到许多用户此前并未注意到这一功能，这里也再顺便提一下。

### 防守图模板前瞻[​](/Manual/NewPathNote/2024PathNote/2024-11-25#防守图模板前瞻
"防守图模板前瞻的直接链接")

我们将在11版本的后续更新中放出新的模板：防守图模板。  
![](https://doc.sce.xd.com/assets/images/11塔防模板-6d5dd08b40eb9e9b13d21b7b05c4be68.png)

防守图模板提供了如下核心逻辑：

  * 非常简单的多难度数值体系（确实非常简单，其实就是血量和攻击力乘上了难度系数）
  * 练功房体系
  * 挑战系统（单挑BOSS，怒刷装备！）
  * 修炼体系（其实就是点了加属性！）
  * 装备合成、吞噬体系

本次更新后，防守图模板不会立刻上线，我们会在少量优化调整后在09-11版本上线防守图模板。

### UI场景优化[​](/Manual/NewPathNote/2024PathNote/2024-11-25#ui场景优化
"UI场景优化的直接链接")

UI场景现在支持透明背景和动态光照修改。  
UI场景控件现在有一个名为『渲染路径』的属性，该属性有『半透明混合』以及『不透明』两个选项。选择『半透明混合』的UI场景控件在显示UI场景时会将背景透明化，并可显示其后的控件以及游戏场景。选择『不透明』，则UI场景的背景色会由默认的填充色所填充。  
我们认为UI场景支持半透明混合可以给用户带来更好的UI控制力。但需要注意的是，半透明混合的UI场景通常需要消耗不透明的UI场景两倍的运算资源。

![](https://doc.sce.xd.com/assets/images/11UI场景-5d3b672f35f28141c4de406937a4b319.png)

UI场景现在可以通过『切换光照组（氛围）』方法来动态切换光照组。UI场景的光照组名称输入格式与普通场景的『切换光照组』动作中的光照组名称格式一致。用户可以在项目的Atmosphere文件夹下找到当前项目的所有光照组。

###
连续施法逻辑改动（『鞭尸』优化）[​](/Manual/NewPathNote/2024PathNote/2024-11-25#连续施法逻辑改动鞭尸优化
"连续施法逻辑改动（『鞭尸』优化）的直接链接")

使用了『自动施法/智能施法+连续施法』机制的用户或者使用了攻击频率过高的单位AI的用户可能会发现连续施法机制会出现连续『鞭尸』的情况，即目标已经被击杀，但连续施法会使单位仍然对着目标的尸体连续攻击一段时间，对于攻击频率过高的AI单位，用户可能发现它们会对已经死去的单位鞭尸半秒左右。  
星火编辑器在11版本对此一行为进行了优化，连续施法机制会记住当连续施法开始时，施法目标的生死状况，若连续施法开始时目标是活着的，那么连续施法会在目标死亡后取消，不再进行鞭尸操作。  
考虑到星火技能系统的高自由度，若单位一开始就对一个已死的目标进行施法，则连续施法不会因为目标死亡而取消。  
需要注意的是，连续施法的放鞭尸机制只会在技能为单位目标技能，或AI、智能施法选取了目标单位的情形下发生。例如，向量目标技能或点目标在自动对目标进行智能施法的情况下也会在智能施法的目标单位死亡后取消连续施法，即使该技能实际上是个向量目标技能。  
相反，在非智能施法模式下，用户通过拖出技能摇杆来引发的向量技能『空挥』则不会引发放鞭尸机制，即使那次空挥正巧打中了单位。这是因为我们对『空挥』+『连续施法』的预期正是单位不管有没有敌人都会对着目标方向连续空挥，而不是会在击杀了一个目标后停止。  
单位目标技能永远会触发防鞭尸机制。

### 物品栏操作逻辑优化[​](/Manual/NewPathNote/2024PathNote/2024-11-25#物品栏操作逻辑优化
"物品栏操作逻辑优化的直接链接")

在11版本中，星火编辑器对物品栏的逻辑进行了一定的重构，这次重构将对以往一些细节逻辑问题产生优化。  
可拾取、可移入、可移出、可移动、可使用等物品栏标旗将会准确、一致地被实现。  
举例而言，不会再出现以前那样诸如物品栏设置了不可使用，但通过某些特定的物品控件依然可以使用物品的问题，或者是单位不存在可拾取的物品栏，但身上有可堆叠的物品时却依然可以将地面上的物品堆叠层数吸收过来的的问题。  
客户端出现的『尝试拾取一个有主的物品』提示信息频率会更少。  
为非主控单位添加额外的单独物品栏格子时，现在应当也能正常地同步到客户端了。

### 数编断线操作优化[​](/Manual/NewPathNote/2024PathNote/2024-11-25#数�编断线操作优化
"数编断线操作优化的直接链接")

在过去，数编的节点连线需要统一通过按住Ctrl键点击连接口来实现断线。但在参考了许多新人用户的使用习惯以后，我们发现这一操作不是非常符合新人用户的直觉。  
从11版本开始，我们优化了数据编辑器的断线操作手势。  
今后，当父节点的某个出口已经连接了某个子节点时，再通过同一出口拖出新的线将会导致这样的结果：  
若线拖入到了某个有效子节点的入口，则会将原始连线更改为从原出口到新入口的连线。原连线会被删除。  
若线拖到了某个空白位置，则相当于直接拉断连线。原连线会被删除。  
从尚未连接任何子节点的出口拉出新连线的行为与过去一致：  
若线拖入到了某个有效子节点的入口，则会连接到那个子节点。  
若线拖到了某个空白位置，则会自动跳出新建节点的窗口，允许直接新建一个子节点。  
特别地，从子节点入口反向拉出连线进行操作时，依然需要通过按住Ctrl键来拉断，这是因为星火编辑器的子节点入口可以连接到任意数量个父节点的出口。从子节点拉出的连线是不唯一的。

### 建造技能的预放置自定义[​](/Manual/NewPathNote/2024PathNote/2024-11-25#建造技能的预放置自定义
"建造技能的预放置自定义的直接链接")

我们注意到许多用户想要对建造技能的半透明预放置表现进行自定义修改，比如想要在防御塔的放置模式中显示防御塔的攻击范围等等。  
为此，我们在客户端触发器中增加了以下三个事件：

  * 技能-建造预放置开始时
  * 技能-建造预放置确认时
  * 技能-建造预放置取消时

这三个事件分别会在建造技能放置模式的进入、取消和确认阶段时引发，在事件中，用户可以获取到引发事件的施法者单位、建造技能、以及放置模式的虚影表现。用户可以对该表现进行进一步操作，比如添加指示攻击范围的表现等等。  
此外，修改数编中的【默认】隐身材质表现的配置可以影响建造技能的建造虚影默认的半透明效果。

###
AI指令可视化作弊码（vao）[​](/Manual/NewPathNote/2024PathNote/2024-11-25#ai指令可视化作弊码vao
"AI指令可视化作弊码（vao）的直接链接")

自星火编辑器发布以来，效果节点可视化作弊码（vrp）深受数编用户欢迎。在11版本中，我们进一步增加了AI指令可视化作弊码（vao）

![](https://doc.sce.xd.com/assets/images/11可视化ai-cbf104de0755cae435db0765e63b277d.png)

在调试模式下，作弊码栏输入作弊码“vao”后，场景中的AI单位将会显示它们当前正在尝试执行的AI指令：比如技能指令或者移动指令。输入“vao
0”则可以关闭AI指令可视化模式。  
如上中『移动』和『攻击』的效果。

### 地形编辑器[​](/Manual/NewPathNote/2024PathNote/2024-11-25#地形编辑器 "地形编辑器的直接链接")

11版本对地编的保存机制进行了优化，在地形场景没有更改的前提下，调试项目产生的文件变动会减少。

### 触发编辑器[​](/Manual/NewPathNote/2024PathNote/2024-11-25#触发编辑器 "触发编辑器的直接链接")

在游戏中可以获取匹配服临时队伍的信息了，开发者可以获得加入游戏局的全部队伍列表和每一个队伍中的玩家信息，此功能只可用于实机环境。  
客户端触发新增两个常用提示的语句，可以简单的创建提醒和弹窗。

  * 创建提醒语句：打开漂浮提示
  * 创建弹窗语句：打开弹窗提示

![](https://doc.sce.xd.com/assets/images/11dialog-44336470cd151eaca5c3d1215bcff457.png)  
![](https://doc.sce.xd.com/assets/images/11toast-688284d81fd2e46557c9efc0cca94930.png)

使用跳转到定义时，若跳转的是非依赖库功能，不会再自动勾选『显示依赖库』了。

### 预制功能[​](/Manual/NewPathNote/2024PathNote/2024-11-25#预制功能 "预制功能的直接链接")

对『对话系统』对话气泡的绑定进行了调整，现在不会随骨骼动画而抖动了。  
优化了预制功能摇杆取消施法时的UI交互表现。  
『局内聊天』功能新增回响风格的UI，在编辑器项目设置中选择『默认』或『回响』风格即可体验到相关UI表现。

### 社区资源商店[​](/Manual/NewPathNote/2024PathNote/2024-11-25#社区资源商店
"社区资源商店的直接链接")

社区资源商店支持购买功能了，但是注意事项请大家先有所了解（都在图里）：  
![](https://doc.sce.xd.com/assets/images/11资源商店付费-c565a11fe8516213b07a3e59237aa0bf.png)

此外，我们不会在外网环境上架来自社区的付费资源，只有线上版本的编辑器开发者可以上架付费商品。  
星火不会对社区资源商店进行任何的分成，只会扣除15%的支付渠道成本、企业税务和开发者个人预扣税，开发者可以拿到85%的收入。

### 星火对战平台[​](/Manual/NewPathNote/2024PathNote/2024-11-25#星火对战平台
"星火对战平台的直接链接")

优化支付功能逻辑，现在游戏不需要设置进入游戏保留大厅局也可以在游戏中使用支付功能了。  
星火对战平台支持模拟调试环境功能了，此功能已经遴选到了10版本。

### 错误修复[​](/Manual/NewPathNote/2024PathNote/2024-11-25#错误修复 "错误修复的直接链接")

修复了在『获得物品』时，调整物品所在背包，背包不刷新的问题。  
修复了客户端『物品提示信息框』显示事件的参数类型，现在该事件的『触发事件的物品』参数会正确显示为『物品』而非UI控件。  
修复了新的数编树状视图所导致的新建场景在触发编辑器中无法直接被选到的问题。  
修复了服务端的『设置网格表现状态』触发器动作的问题，现在该动作与其在客户端的对应版本行为更加一致。  
修复了部分数编节点数组字段在触发器中的映射问题，比如『任意数据 -
任意数编节点』的『值（数组）』属性类型现在会正确地被解析为『数组【数编Id:任意】』而非『数组【未知】』

[上一页2024年10月23日更新日志【10版本】](/Manual/NewPathNote/2024PathNote/2024-10-23)[下一页2024年12月19日更新日志【11版本】](/Manual/NewPathNote/2024PathNote/2024-12-19)


