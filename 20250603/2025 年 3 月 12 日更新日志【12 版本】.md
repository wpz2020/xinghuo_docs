  * [](/)
  * 更新日志
  * 最新更新日志
  * 2025 年 3 月 12 日更新日志【12 版本】

复制链接

本页总览

# 2025 年 3 月 12 日更新日志【12 版本】

提示

除部分严重 BUG 修复会覆盖旧版本，以下新功能均在编辑器版本 12 中生效。  
开发者可以在编辑器顶部菜单-编辑器版本中进行版本切换。

## Spine 动画[​](/Manual/NewPathNote/2024PathNote/2025-3-12#spine-动画 "Spine
动画的直接链接")

参加过之前开发者沙龙的开发者，应该了解 Spine 动画原本是星火 2.0
版本的规划；但是在开发过程中，我们充分评估了工作量和收益，认为此能力在当前版本支持亦是有足够价值的。

在本次更新后，界面编辑器正式支持 Spine 动画了。

开发者可以在「界面编辑器-组件库」中找到「Spine 动画」组件，拖入界面编辑器后，可以选择「Spine 动画资源」，点选一个 skel 文件，成功导入后：

  1. 可以在右侧属性中选择动画名称
  2. 可以在右侧属性中选择皮肤名称
  3. 原有的星火 UI 组件的操作方式均适用，通过触发也可以动态修改 Spine 动画组件的属性
  4. 导入后的 Spine 动画会自动放到 ui/spine 路径下

希望 Spine 动画能为开发者带来更高的游戏表现力。

此外我们在测试中发现 Spine 动画组件、UI 粒子组件界面编辑器动效无效的问题，本次更新也已一并优化。

![](https://doc.sce.xd.com/assets/images/Spine动画-c094bd1313ebf97b788d548b1fae702a.gif)

## 施加外力[​](/Manual/NewPathNote/2024PathNote/2025-3-12#施加外力 "施加外力的直接链接")

在过去，当用户想要实现“将单位往一个方向牵引，但单位依然可以被摇杆移动控制”的逻辑时，实现过程会非常复杂，且五花八门的实现方式可能会导致单位在屏幕上不断跳变位置。为此，12
版本的星火编辑器加入了“单位外力”的概念。服务端触发器的单位面向对象方法中增加了三个方法：

  * 施加向量外力
  * 移除指定外力
  * 移除所有外力

施加向量外力方法可以向着指定方向以指定的速度牵引单位，多个方向的外力会计算合力，得出一个最终牵引方向和速度，而该速度还会进一步与摇杆移动进行叠加计算。施加向量外力方法会返回一个外力对象，用于在移除指定外力时作为参数来输入。

在数据编辑器中也加入了添加和移除外力的效果节点，方便用户在效果树中实现对应的效果。

目前外力系统仅支持指定方向和速度的外力，今后我们还会对这一系统进行进一步的强化。

## 云变量货币物品还原逻辑的优化[​](/Manual/NewPathNote/2024PathNote/2025-3-12#云变量货币物品还原逻辑的优化
"云变量货币物品还原逻辑的优化的直接链接")

在过去，云变量物品（云变量账号绑定装备和云变量货币消耗物品）作为在云上存储物品的简易封装方案受到广泛使用。但我们在实际收集的数据中发现，云变量货币物品在用户中的使用频率比原本预期的多得多。云变量货币物品与账号绑定装备最大的区别在于，每个云变量货币物品除了需要存储物品信息本身外，还需要存储一个对应的货币型云变量。这个功能原本预期用于实现需要消耗云变量货币的物品，或者在背包内以物品的形式显示云变量货币数量。

在过去的逻辑中，用户在一个单位身上还原全部云变量物品时，尽管所有物品会在一次查询中全部还原，但其中每个云变量货币物品还会各自额外查询一次自身对应的货币型云变量值，并使用这个值来修改物品自身的数量。而我们注意到部分项目中大量使用了云变量货币物品，将每一个可消耗物品都绑定了成了云变量货币物品，导致在还原拥有大量物品的账号时，出现了云变量查询次数超标的问题。

为了解决这一问题，我们在 12
版本中针对云变量货币物品的还原逻辑进行了优化。在新版本逻辑中，在经过第一次查询批量还原一个账号的所有物品后，系统会再一次进行批量查询，一次性查询完这些物品对应的所有货币型云变量的值。因此，在
12 版本更新后，在一个单位身上还原所有云变量物品的操作应当最多只会进行两次查询。以大大减少用户在使用云变量物品时查询和提交次数超标导致的问题。

## 大量物品提交优化[​](/Manual/NewPathNote/2024PathNote/2025-3-12#大量物品提交优化
"大量物品提交优化的直接链接")

我们注意到部分项目中的玩家角色拥有着成千上万个物品，导致一次性提交物品栏中所有物品时，会因为数据量过多而出现不稳定的提交失败问题。

为此，我们优化了与 TAP
数据库服务器之间交互数据的逻辑，针对大量列表数据一次性提交的情况做出了专门的优化。今后，大量物品在一次性进行提交时，此类问题将会得到显著的改善。

## 多人调试改进[​](/Manual/NewPathNote/2024PathNote/2025-3-12#多人调试改进 "多人调试改进的直接链接")

我们收集了用户的反馈，对多人调试功能进行了一些调整：

在多人调试模式下尝试获在游戏中获取「大厅对局信息」时，游戏现在将会模拟并给出用户在多人调试界面中实际勾选的调试玩家信息集合，而非列出游戏中所有的玩家。我们希望这一改动能更符合用户的直觉预期，以免用户误认为在实机游戏中，大厅对局信息也会列出非真人玩家的槽位。

另外，多人调试模式现在为模拟出来的真人玩家填充虚拟用户 Id
时，将按照玩家与队伍设置中设置为「调试启用」的真人玩家槽位顺序来进行填充，比如，若用户的玩家设置中有 1 号、3 号、5
号三个勾选了调试启用的真人玩家槽位，然后又在多人调试界面中只勾选了 1 号和 5 号玩家槽位来进行多人调试，那么他们在连入后的虚拟用户 Id 将会是 100
和 102，且与这两个玩家的实际连入顺序无关，其中本该是 101 的三号玩家因为没有被调试连入，该编号将会被跳过。

此外，我们还修复了多人调试模式下的一些已知的相关 Bug。

##
「自行退出游戏时」和「立刻断开指定玩家的游戏链接」[​](/Manual/NewPathNote/2024PathNote/2025-3-12#自行退出游戏时和立刻断开指定玩家的游戏链接
"「自行退出游戏时」和「立刻断开指定玩家的游戏链接」的直接链接")

我们在服务端新增了「自行退出游戏时」事件，此事件会玩家通过点击下图「退出按钮」时被触发

![](https://doc.sce.xd.com/assets/images/自行退出游戏-201a2532aea1a885295aa67d87739952.png)

此外，我们还增加了服务端动作「立刻断开指定玩家的游戏链接」，此语句会让玩家立刻断开连接，并且触发「玩家断线时」事件。

显而易见的，这个动作和事件是可以组合使用的，方便开发者实现更明确的游戏逻辑。

但是需要注意的是，杀后台、PC 上点 Windows 菜单的关闭，都无法触发「自行退出游戏时」事件。

## 触发编辑器[​](/Manual/NewPathNote/2024PathNote/2025-3-12#触发编辑器 "触发编辑器的直接链接")

客户端触发器加入了获取表现 XYZ 旋转的函数。

客户端触发器加入了设置表现朝向的函数。

客户端触发器加入了将表现附着到表现或单位上的面向过程动作（此前已有面向对象的版本）。客户端触发器加入了解除表现附着的方法。

## 创作者中心[​](/Manual/NewPathNote/2024PathNote/2025-3-12#创作者中心 "创作者中心的直接链接")

创作者中心新增了按月统计的资源商店售卖明细，开发者可以看到自己的付费资源收入情况了。

另外提醒：星火编辑器中的付费资源购买功能，必须在 11 及以上版本才支持。 付费资源流水中的 15%将用于处理税务及其他必要的成本，开发者可以拿到全部的
85%的收入，无需与星火进行分成。

去掉了资源商店简介和描述相关的敏感词检测。

降低了游戏内公告功能中敏感词检测的严格程度。

## 游戏相关[​](/Manual/NewPathNote/2024PathNote/2025-3-12#游戏相关 "游戏相关的直接链接")

优化了通过 Tap 启动和星火对战平台启动时，登录态的校验逻辑，整体流程更加流畅了。

修复了偶现的闪退、卡死问题，这一问题往往是由于底层文本绘制的时序带来的，相关改动已经遴选到线上版本，但是需要玩家手动更新对战平台（如果是 Tap
启动则会自动更新）。

优化了普通创意工坊加载页的表现，相关功能也已遴选到线上版本。

## 错误修正[​](/Manual/NewPathNote/2024PathNote/2025-3-12#错误修正 "错误修正的直接链接")

  * 修复了建造技能取消后无法正常使用其它技能的问题。
  * 修复了在往地编固定镜头面板的初始位置字段 XY 轴位置复制数值时会出现报错的问题。
  * 修复了在自定义物品栏使用阵列来显示自定义物品栏格子会无法正常显示的问题。
  * 修复了多人调试点击全部停止时可能出现的报错。
  * 修复了多人调试初始值删除后未填写时的报错。
  * 修复了特定情况下，创建房间长期不关闭的问题。

[上一页2025 年 2 月 13 日更新日志【12
版本】](/Manual/NewPathNote/2024PathNote/2025-2-13)[下一页2023年4月6日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-04-06)


