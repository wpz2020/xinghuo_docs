  * [](/)
  * 更新日志
  * 2023年更新日志汇总
  * 2023年9月11日星火编辑器更新日志

复制链接

本页总览

# 2023年9月11日星火编辑器更新日志

### 高级技能动画自定义[​](/Manual/NewPathNote/2023PathNote/2023-09-11#高级技能动画自定义
"高级技能动画自定义的直接链接")

在数据编辑器中、我们开放了更高级、更自由的技能动画编辑。用户可以通过勾选组合动画来将其开启。勾选该选项后，推荐用户点击动画预览窗口的最大化按钮，将预览窗最大化后再进行动画编辑器。

![](/assets/images/开启组合动画的方式-617c6a8af699a035e0b417de4294d005.webp)

高级组合动画编辑器是一个基于时间轴的动画编辑器，允许用户对技能进行以下的配置：

  * 在时间轴上精确调整前摇、蓄力、引导、后摇的时间点。
  * 在时间轴上配置多个随机动画组合，技能每次施法时会随机播放这些组合当中的一个。
  * 每个动画组合可以由多个动画片段构成，用户可以自由地裁剪动画库中的所有可选动画，并将他们组合成一个新的随机组合动画供技能来播放。
  * 动画片段之间无需首位拼接，可以从任意已有的动画素材中裁剪，可以指定任意的开始结束时间并进行截取。
  * 动画片段之间可以指定淡入和淡出时间。各个动画片段还可以决定是否会循环。以及基础的播放速率（在实际播放时还会乘以技能的施法速度倍率）
  * 技能动画可以在各个指定帧插入额外的特效表现节点。（注：目前仅支持插入公用表现节点，用户需要先在表现分类文件夹中新建公用表现，然后通过组合动画编辑器来附加，我们今后会优化这一逻辑）
  * 星火编辑器还增加了一种全新的“动画拖尾”类型粒子表现。该表现需要指定两种骨骼绑点，方便用来更加精确地绑定刀光效果和拖尾效果。（今后会对此类粒子表现）

对于多段连招技能，在用户添加了多段连招配置后，组合动画编辑器将会出现一个下拉列表允许用户针对每个指定的多段连招段数来配置不同的组合随机动画组。在此情况下，每个阶段的技能动画依然可以在各个随机动画组中单独进行随机。（注：每个多段技能段数配置需要单独勾选组合动画勾选项来启用该阶段的组合动画配置）
组合动画编辑器是一个非常强大有用的动画编辑器。我们今后会推出更多相关的教程和样例。
当前组合动画编辑器的交互和UI比较简洁（简陋），未来我们也会在适合的时机优化对应的UI。

###
Buff、投射物、周期性效果的加速属性自定义[​](/Manual/NewPathNote/2023PathNote/2023-09-11#buff投射物周期性效果的加速属性自定义
"Buff、投射物、周期性效果的加速属性自定义的直接链接")

在过去，Buff、持续性效果和发射投射物都会自动读取'急速'属性，来加快弹道速度、以及buff、持续性效果的间隔。用户可以通过取消勾选各个节点的“受到急速属性影响”字段来取消这个属性对节点的加速。

然而，这样的体验依然与星火编辑器其它方面的总体预期不一致：比如，在配置技能施法速度时，用户可以自由选择一个单位属性来充当技能的施法速度倍率。但在效果节点中，却变成了永远只受到急速属性的影响。在实际生产工作中，用户可能希望不同节点设置不同的加速因子。

在这次更新中，我们为Buff、发射投射物以及周期性效果增加了一个全新的字段：周期时间倍率属性。该字段的默认值依然为急速。但用户可以修改该字段，并选择其它的单位属性来充当对应节点的加速倍率属性。

除此之外，我们还在技能节点上增加了一个新的数组字段：效果树单位属性快照。在此处被填写的单位属性会在技能效果开始执行时（引导开始阶段）被获取并记录到技能的效果树中，并在整个效果树的声明周期中保持不变。

当buff、持续性效果和发射投射物效果执行时，会优先读取效果树共享信息里的属性快照值，而不是单位当前的属性值。如果没有快照才会去取单位当前属性值。用户可以酌情使用这个功能。（比如，可以实现buff加速由技能施法时的单位属性而定，而非buff被附加的瞬间）

###
多功能格子的优化与客户端格子对象[​](/Manual/NewPathNote/2023PathNote/2023-09-11#多功能格子的优化与客户端格子对象
"多功能格子的优化与客户端格子对象的直接链接")

  * 我们优化了多功能格子控件，使其可以通过修改[.绑定的物品]属性来直接设置其绑定的物品。物品在多功能格子中的显示方式完全遵循数据编辑器的全局游戏配置中对物品显示方式的自定义设置。

  * 除此之外，我们在客户端增加了“物品栏格子”对象的概念。用户可以通过“获取单位物品栏格子”函数来获取指定单位身上指定编号物品栏的指定位置格子。

  * 物品栏格子可以在本地客户端获取当前的物品。除此之外，可以在多功能格子控件中通过修改[.绑定的物品栏格子]来令该控件显示对应的格子或其中的物品。

  * 多功能格子控件也可以通过设置其[.能否使用物品]属性来决定该控件仅仅是显示物品/物品栏格子，还是可以直接对应的物品。

  * 需要注意的是，只有已被拾取的物品才可以在多功能格子控件中被使用。未被拾取的物品虽然可以在多功能格子中显示，但无法被使用。

### 镜头的整体调整[​](/Manual/NewPathNote/2023PathNote/2023-09-11#镜头的整体调整
"镜头的整体调整的直接链接")

  * 之前很长一段时间，受限于镜头底层API的实现逻辑，大家在使用镜头功能时遇到了比较多的困难。
  * 本次更新后，我们将原先的『区域镜头属性』更名为『游戏镜头』，并且将所有相关功能和逻辑移动到了客户端。
  * 这一改动可能会让部分旧的镜头使用方法失效，考虑到这些方法确实存在各种问题，我们并未对旧的方法做兼容。
  * 因此更新后需要大家自己处理一下不符合预期的镜头效果，已经上线的游戏需要在10月中旬的更新前做好准备，确保线上的游戏不会在下次更新时因为镜头的改动而收到影响。
  * 新的镜头支持了面向过程语句修改属性，也支持用面向对象的方式直接赋值。
  * 此外我们也提供了平移、旋转、震动等语句，预期可以帮助大家更好的实现游戏内的演出效果

### 创作者中心[​](/Manual/NewPathNote/2023PathNote/2023-09-11#创作者中心 "创作者中心的直接链接")

创作者中心新增『数据看板-
游戏核心数据』，对游戏的TAP首页曝光转化、DAU、时长、留存等核心指标进行了展示。当前外网环境的数据源为测试数据（假数据），后续会将相关报备更新至线上创作者中心，方便大家了解自己游戏的核心数据。

![](/assets/images/游戏核心数据-537a6ad200b7f7da912c5ed215e844d0.webp)

创作者中心新增『资源占用』看板，对游戏的各类资源占用进行了统计，开发者可以据此来观察是否有不符合预期的占用，优化对应的资源类型。

![](/assets/images/资源占用统计-044703032c3be89977241a906b946f66.webp)

### 数据编辑器[​](/Manual/NewPathNote/2023PathNote/2023-09-11#数据编辑器 "数据编辑器的直接链接")

  * 我们优化了类型编辑器的逻辑，使其能够检测出更多因为错误配置而导致的数编数据错误并给出相应的提示。

  * 现在数据编辑器中数值公式的“按等级填写”选项会提示等级公式的详细公式了。

  * 现在触发器中增加了“获取指定数编分类的所有公用Id”函数。用户可以使用该函数获取数据编辑器中的任意分类下的所有公用节点。比如所有的技能、所有的Buff、所有的物品，甚至所有的自定义数编分类id。

### 触发器编辑器[​](/Manual/NewPathNote/2023PathNote/2023-09-11#触发器编辑器
"触发器编辑器的直接链接")

  * 我们为效果节点对象增加了一个目标属性，用户可以通过该属性获取效果节点的目标单位或目标点。其作用与“效果节点的目标单位”和“效果节点的目标点”一致。

  * 我们优化了触发器编辑器的代码生成，为所有触发器相关函数生成了单独的函数名，今后即使在查看后台日志时，也能够很方便地找到出错的触发器名称了，而不是只能拿到一个出错行数。

  * 新建自定义文件指令改名为新建自定义脚本文件以避免用户混淆。

  * 新版触发器拓展了地编单位的选取范围，允许用户在触发器中选取非默认场景的单位，但这也偶尔导致了问题，如用户会尝试对尚未加载的场景中的单位进行操作。为了帮助用户排查此类问题，今后当触发运行到'获取地编单位'时，如果没有加载对应的场景，星火编辑器会在服务器日志中输出一段提示信息，告知用户尚未加载该场景。需要注意的是，该提示功能仅对更新后选取的触发器地编单位有效。

  * 触发编辑器现在增加了“删除触发器事件”的功能，可以单独删除一个现有触发器的事件。

  * “复制指定的触发器”动作允许用户在运行时基于一个现有触发器动态创建一个新的触发器，该动作可以选择是否带上原有触发器的事件。若选择不带事件，则可以通过添加触发器事件动作来为新的触发器动态添加事件。

  * “从函数创建触发器”函数可以指定一个符合签名要求的函数或匿名函数，并以其为触发器体来构建一个新的触发器。该函数会返回被新建出来的触发器。

  * 触发编辑器新增『获得局外资源时』事件，方便大家在局内使用商城、抽奖、邮件等功能时，及时更新相关数据和游戏逻辑。

  * 我们在触发器编辑器的类型选择界面中增加了一些默认的类型收藏。

### 其他优化[​](/Manual/NewPathNote/2023PathNote/2023-09-11#其他优化 "其他优化的直接链接")

  * 优化了未加载项目时的顶部菜单名称，减少开发者的误解

### 错误修复[​](/Manual/NewPathNote/2023PathNote/2023-09-11#错误修复 "错误修复的直接链接")

  1. 修复了法球系统的叠加Id字段在特定情况下会使法球彻底失效的问题。
  2. 修复了单位目标技能无法正确进行智能施法的问题。

[上一页2023年8月24日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-08-24)[下一页2023年9月27日星火编辑器更新日志](/Manual/NewPathNote/2023PathNote/2023-09-27)


